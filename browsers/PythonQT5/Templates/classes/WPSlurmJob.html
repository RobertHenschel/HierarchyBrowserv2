<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      body { font-family: -apple-system, Segoe UI, Roboto, sans-serif; margin: 12px; }
      h1 { font-size: 20px; margin: 0 0 8px 0; }
      .subtitle { color: #555; margin-bottom: 12px; }
      .grid { display: grid; grid-template-columns: 180px 1fr; gap: 6px 12px; }
      .key { color: #666; }
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
      pre { background: #f6f8fa; padding: 8px; border-radius: 6px; }
      .section { margin-top: 16px; }
    </style>
  </head>
  <body>
    <h1>Job: {{ obj.jobname or obj.id  }}</h1>
    {% if obj.title %}
      <div class="subtitle">Job ID: {{ obj.title }}</div>
    {% endif %}

    <div class="grid">

      <div class="key">Part of Job Array</div>
      {% if obj.jobarray %}
        <div style="color: red;">Yes</div>
      {% else %}
        <div>No</div>
      {% endif %}

      <div class="key">User ID</div>
      {% if obj.userid %}
        <div>{{ obj.userid }}</div>
      {% endif %}

      <div class="key">Node Count</div>
      {% if obj.nodecount %}
        <div>{{ obj.nodecount }}</div>
      {% endif %}

      <div class="key">Job State</div>
      {% if obj.jobstate %}
        {% if obj.jobstate == "Running" %}
          <div style="color: green;">{{ obj.jobstate }}</div>
        {% else %}
          <div style="color: orange;">{{ obj.jobstate }}</div>
        {% endif %}
      {% else %}
        <div>{{ obj.jobstate }}</div>
      {% endif %}
      {% if obj.jobstate == "Pending" %}
        <div class="key">State Reason</div>
        <div>{{ obj.state_reason }}</div>
      {% endif %}

      <div class="key">Requested# CPUs</div>
      {% if obj.cpus %}
        <div>{{ obj.cpus }}</div>
      {% endif %}

      <div class="key">Requested Memory</div>
      {% if obj.totalmemory %}
        <div>{{ obj.totalmemory }}</div>
      {% endif %}

      <div class="key">Requested Runtime</div>
      {% if obj.requestedruntime %}
        <div>{{ obj.requestedruntime }}</div>
      {% endif %}
      {% if obj.elapsedruntime != "0:00" %}
        <div class="key">Elapsed Runtime</div>
        <div>{{ obj.elapsedruntime }}</div>
      {% endif %}
      {% if obj.jobstate == "Running" %}
        <div class="key">Remaining Runtime</div>
        <div>{{ obj.remainingruntime }}</div>
      {% endif %}

      <div class="key">RT Project </div>
      {% if obj.account %}
        <div>{{ obj.account }}</div>
      {% endif %}

      <div class="key">Slurm Priority</div>
      {% if obj.priority %}
        <div>{{ obj.priority }}</div>
      {% endif %}
      {% if obj.gres %}
        <div class="key">Requested GPUs</div>
        <div>{{ obj.gres }}</div>
      {% endif %}
    </div>

  </body>
  </html>
